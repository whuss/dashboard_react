{% extends 'layout.html' %}

{% block head %}
{% endblock %}

{% block page_title %}
<h1>Keyboard/Mouse Data distributions</h1>
{% endblock %}

{% block page_navigation %}
<div class="container-fluid toolbar">

    <div class="btn-group" style="align-items: center;">
        <span class="label">Transformation:</span>
        <button type="button" class="btn btn-light dropdown-toggle" data-toggle="dropdown">
            <span id="transformation_type">{{request.view_args.normalize|or_else("none")}}</span>
        </button>
        <div class="dropdown-menu">
            <a class="dropdown-item" href="{{url_for_self(normalize='none')}}">none</a>
            <a class="dropdown-item" href="{{url_for_self(normalize='power_transform')}}">power transform</a>
        </div>
    </div>
</div>
{% endblock%}

{% block body %}
<div id="content">
  <div style="margin:20px">
    <b>Warning:</b> Plotting of the distributions can take a very long time.
  </div>
  <table id="data-table" class="table">
    <thead class="thead-dark" style="position: sticky; top: 0">
    <tr>
        <th>Device ID</th>
        <th>Mouse data</th>
        <th>Download</th>
    </tr>
    </thead>
  {% for plot in ajax_plot_list %}
  <tr>
    <th scope="row">{{plot.parameters.device}}</th>
    <td><div align="center">{{plot.field.plot|safe}}</div></td>
    <td>{{plot.field.download|safe}}</td>
  </tr>
  {% endfor %}
  </table>
</div>
{% endblock %}

{% block script %}
{% include 'includes/_data_table.html' %}
{% include 'includes/_ajax_plot.html' %}
{% endblock script %}